name: 'Run tests and successfully build ExoKomodo'
on: 
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
        # Checkout the code
        - uses: actions/checkout@v2

        # Install .NET SDK
        - name: Setup .NET
          uses: actions/setup-dotnet@v1
          with:
            dotnet-version: '5.0.*'

        # Run tests
        - name: Test
          run: dotnet test

        # Build the website
        - name: Build
          run: |
            dotnet build
